// Test struct instantiation inside reduce blocks - simplified

struct Point {
    x_coord:i,
    y_coord:i
}

// Test data
points:a:Point = [
    Point { x_coord: 1, y_coord: 2 },
    Point { x_coord: 3, y_coord: 4 }
];

// Test with simple initial value first
sum_x:i = reduce acc point in points from 0 {
    y acc + point.x_coord;
};

print(danger(string_from(sum_x)));

// Now test struct instantiation in initial value
zero_point:Point = Point { x_coord: 0, y_coord: 0 };
result:Point = reduce acc point in points from zero_point {
    new_x:i = acc.x_coord + point.x_coord;
    new_y:i = acc.y_coord + point.y_coord;
    new_point:Point = Point { x_coord: new_x, y_coord: new_y };
    y new_point;
};

print(array_join([`Result: x=`, danger(string_from(result.x_coord)), `, y=`, danger(string_from(result.y_coord))], ``));